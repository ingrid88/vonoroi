
<canvas id="c" width="500px" height="500px"></canvas>
<script>
var e = document.getElementById('c')
var g = e.getContext("2d")


WIDTH=500
HEIGHT=500
SEED_COUNT = 100

SEEDS = []
for(var x=0; x < SEED_COUNT; x++) {
  for(var y=0; y < SEED_COUNT; y++) {
    u = Math.floor(Math.random()*WIDTH)
    v = Math.floor(Math.random()*HEIGHT)
    SEEDS[x] = [u,v]
  }
}

console.log(SEEDS)

BINS = []
for(var x=0; x < WIDTH; x++) {
  for(var y=0; y < HEIGHT; y++) {
    seed_index = assign_pixel([x,y], SEEDS, manhattan_distance)
    g.fillStyle = "hsl("+(360*seed_index/SEED_COUNT)+",60%,60%)"
    g.fillRect(x,y,1,1)
  }
}

SEEDS.forEach(function(seed){
  g.fillStyle = "black"
  g.fillRect(seed[0]-1,seed[1]-1,3,3)
})

function assign_pixel(pixel, seeds, metric) {
  p_x = pixel[0]
  p_y = pixel[1]
  d = 500
  ind = 0
  for(var x=0; x < seeds.length; x++) {
    s_x = seeds[x][0]
    s_y = seeds[x][1]

    n_d = metric(s_x,s_y,p_x,p_y)
    d = (d < n_d) ? d : n_d
    ind = (d < n_d) ? ind : x
  }
  return ind
}

function manhattan_distance(x,y,u,v) {
    return  Math.abs(u-x) + Math.abs(v-y)
}

function euclidean_distance(x,y,u,v) {
     return Math.sqrt(Math.pow((u-x),2)+ Math.pow((v-y),2))
}

</script>
